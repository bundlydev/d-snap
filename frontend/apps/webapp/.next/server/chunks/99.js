exports.id=99,exports.ids=[99],exports.modules={3129:(t,e,r)=>{"use strict";r.a(t,async(t,i)=>{try{r.d(e,{Z:()=>l});var n=r(997),s=r(3055),a=r(9218),c=r.n(a),o=t([s]);function l({children:t}){return(0,n.jsxs)("div",{className:"w-[500px] h-screen relative mx-auto",children:[n.jsx("main",{children:t}),n.jsx("div",{className:"max-width-[500px] absolute bottom-0",children:(0,n.jsxs)("div",{className:"flex items-center justify-between bg-white p-4 border-t border-gray-300 min-w-[500px] mx-auto",children:[n.jsx(c(),{href:"/feed",children:(0,n.jsxs)(s.z,{size:"icon",variant:"ghost",children:[n.jsx(d,{className:"w-6 h-6 text-gray-500"}),n.jsx("span",{className:"sr-only",children:"Home"})]})}),n.jsx(c(),{href:"/inbox",children:(0,n.jsxs)(s.z,{size:"icon",variant:"ghost",children:[n.jsx(u,{className:"w-6 h-6 text-gray-500"}),n.jsx("span",{className:"sr-only",children:"Inbox"})]})}),n.jsx(c(),{href:"/create-post",children:(0,n.jsxs)(s.z,{size:"icon",variant:"ghost",children:[n.jsx(h,{className:"w-6 h-6 text-gray-500"}),n.jsx("span",{className:"sr-only",children:"Add new"})]})}),n.jsx(c(),{href:"/friend-list",children:(0,n.jsxs)(s.z,{size:"icon",variant:"ghost",children:[n.jsx(g,{className:"w-6 h-6 text-gray-500"}),n.jsx("span",{className:"sr-only",children:"Friends"})]})}),n.jsx(c(),{href:"/profile",children:(0,n.jsxs)(s.z,{size:"icon",variant:"ghost",children:[n.jsx("img",{alt:"Avatar",className:"rounded-full",src:"https://placehold.it/32x32",style:{aspectRatio:"32/32",objectFit:"cover"},height:"32",width:"32"}),n.jsx("span",{className:"sr-only",children:"Profile"})]})})]})})]})}function d(t){return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-home "+t.className,children:[n.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),n.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})}function h(t){return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-plus "+t.className,children:[n.jsx("path",{d:"M5 12h14"}),n.jsx("path",{d:"M12 5v14"})]})}function u(t){return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-inbox "+t.className,children:[n.jsx("polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12"}),n.jsx("path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"})]})}function g(t){return(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-users "+t.className,children:[n.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),n.jsx("circle",{cx:"9",cy:"7",r:"4"}),n.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),n.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]})}s=(o.then?(await o)():o)[0],i()}catch(t){i(t)}})},3055:(t,e,r)=>{"use strict";r.a(t,async(t,i)=>{try{r.d(e,{z:()=>h});var n=r(997),s=r(1181),a=r(4338),c=r(6926),o=r(6689),l=t([s,a,c]);[s,a,c]=l.then?(await l)():l;let d=(0,c.cva)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),h=o.forwardRef(({className:t,variant:e,size:r,asChild:i=!1,...c},o)=>{let l=i?a.Slot:"button";return n.jsx(l,{className:(0,s.cn)(d({variant:e,size:r,className:t})),ref:o,...c})});h.displayName="Button",i()}catch(t){i(t)}})},9188:(t,e,r)=>{"use strict";r.d(e,{v:()=>u});var i={};r.r(i),r.d(i,{canisterId:()=>c,createActor:()=>o,idlFactory:()=>a});var n={};r.r(n),r.d(n,{canisterId:()=>d,createActor:()=>h,idlFactory:()=>l});var s=r(4515);let a=({IDL:t})=>t.Service({greet:t.Func([t.Text],[t.Text],["query"])}),c=process.env.CANISTER_ID_TEST||"bd3sg-teaaa-aaaaa-qaaba-cai",o=(t,e={})=>{let r=e.agent||new s.HttpAgent({...e.agentOptions});return e.agent&&e.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),r.fetchRootKey().catch(t=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(t)}),s.Actor.createActor(a,{agent:r,canisterId:t,...e.actorOptions})},l=({IDL:t})=>{let e=t.Variant({jpg:t.Null,jpeg:t.Null}),r=t.Record({url:t.Text,encoding:t.Text,blob:t.Vec(t.Nat8),name:t.Text,size:t.Nat,mimetype:e}),i=t.Record({day:t.Nat8,month:t.Nat8,year:t.Nat8}),n=t.Record({bio:t.Text,username:t.Text,picture:r,birthday:i}),s=t.Variant({userNotAuthenticated:t.Null,userAlreadyExists:t.Null}),a=t.Variant({ok:t.Null,err:s}),c=t.Record({description:t.Text,images:t.Vec(r)}),o=t.Variant({userNotFound:t.Null,userNotAuthenticated:t.Null}),l=t.Variant({ok:t.Null,err:o}),d=t.Record({to:t.Int,from:t.Int}),h=t.Record({userId:t.Principal,createdAt:t.Int}),u=t.Record({id:t.Principal,linkedComment:t.Opt(t.Principal),userId:t.Principal,createdAt:t.Int,likes:t.Vec(h),comment:t.Text}),g=t.Record({id:t.Text,createdAt:t.Int,description:t.Text,likes:t.Vec(t.Principal),updatedAt:t.Int,comments:t.Vec(u),images:t.Vec(r)}),p=t.Record({data:t.Vec(t.Tuple(t.Text,g))}),x=t.Variant({userNotFound:t.Null,userNotAuthenticated:t.Null}),f=t.Variant({ok:p,err:x}),y=t.Record({bio:t.Text,username:t.Text,createdAt:t.Int,picture:r,birthday:i}),m=t.Variant({userNotFound:t.Null,userNotAuthenticated:t.Null}),v=t.Variant({ok:y,err:m});return t.Service({create:t.Func([n],[a],[]),createPost:t.Func([c],[l],[]),getPosts:t.Func([d],[f],["composite_query"]),getProfile:t.Func([],[v],["composite_query"])})},d=process.env.CANISTER_ID_USER||"be2us-64aaa-aaaaa-qaabq-cai",h=(t,e={})=>{let r=e.agent||new s.HttpAgent({...e.agentOptions});return e.agent&&e.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),r.fetchRootKey().catch(t=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(t)}),s.Actor.createActor(l,{agent:r,canisterId:t,...e.actorOptions})},u={test:i,user:n}},9401:(t,e,r)=>{"use strict";r.a(t,async(t,i)=>{try{r.d(e,{H:()=>u,V:()=>h});var n=r(997),s=r(3359),a=r(6689),c=r(9926),o=t([c]);let l=(c=(o.then?(await o)():o)[0]).default.object({bio:c.default.string(),username:c.default.string(),picture:c.default.object({url:c.default.string()}),createdAt:c.default.bigint()}),d=c.default.object({ok:l,err:c.default.string().optional()}),h=(0,a.createContext)({}),u=({children:t})=>{let{connect:e,disconnect:r}=(0,s.aC)(),i=(0,s.Lm)("user"),[c,o]=(0,a.useState)(!1),[l,u]=(0,a.useState)();async function g(){if(c)try{let t=await i.getProfile(),e=d.safeParse(t);if(!e.success)throw Error("Invalid response");if(e.success&&"err"in e.data)return;let r={username:e.data?.ok.username,bio:e.data?.ok.bio,picture:e.data?.ok.picture,createdAt:e.data?.ok.createdAt};u(r)}catch(t){throw t}else u(void 0)}async function p(){try{await e(),o(!0)}catch(t){throw t}}async function x(){await r(),o(!1)}return(0,a.useEffect)(()=>{g()},[c]),n.jsx(h.Provider,{value:{isAuth:c,profile:l,login:p,logout:x},children:t})};i()}catch(t){i(t)}})},1181:(t,e,r)=>{"use strict";r.a(t,async(t,i)=>{try{r.d(e,{cn:()=>c});var n=r(6593),s=r(8097),a=t([n,s]);function c(...t){return(0,s.twMerge)((0,n.clsx)(t))}[n,s]=a.then?(await a)():a,i()}catch(t){i(t)}})},4619:(t,e,r)=>{"use strict";r.a(t,async(t,i)=>{try{r.r(e),r.d(e,{default:()=>u});var n=r(997);r(9724);var s=r(9401),a=r(9188),c=r(1417),o=r(8538),l=r(3051),d=r(6689),h=t([s]);function u({Component:t,pageProps:e}){let[r,i]=(0,d.useState)();async function h(){let t=new o.w({providerUrl:"http://127.0.0.1:4943/?canisterId=bkyz2-fmaaa-aaaaa-qaaaq-cai"}),e=await c.K.create({host:"http://localhost:4943",canisters:a.v,providers:{"internet-identity":t}});i(e)}return(0,d.useEffect)(()=>{h()},[]),r?n.jsx(l.b,{client:r,children:n.jsx(s.H,{children:n.jsx(t,{...e})})}):n.jsx("div",{children:"Loading"})}s=(h.then?(await h)():h)[0],i()}catch(t){i(t)}})},1417:(t,e,r)=>{"use strict";r.d(e,{K:()=>n});var i=r(4515);class n{constructor(t,e,r){this.agent=t,this._canisters=e,this.providers=r,this.actors={},this.init()}init(){this.agent.fetchRootKey().then(t=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running")}),this.setActors()}setIdentity(t){t?this.agent.replaceIdentity(t):this.agent.invalidateIdentity(),this.setActors()}setActors(){let t=Object.entries(this._canisters).reduce((t,e)=>{let[r,n]=e,{idlFactory:s,canisterId:a,configuration:c={}}=n,o=i.Actor.createActor(s,{agent:this.agent,canisterId:a,...c});return{...t,[r]:o}},{});this.actors=t}getActor(t){return this.actors[t]}getProviders(){return this.providers}static async create(t){let{host:e,canisters:r,providers:s}=t;return Object.keys(s).forEach(async t=>{await s[t].init()}),new n(new i.HttpAgent({host:e,verifyQuerySignatures:!1}),r,s)}}},8538:(t,e,r)=>{"use strict";r.d(e,{w:()=>s});var i=r(5088);let n={providerUrl:"https://identity.ic0.app"};class s{constructor(t={}){this.config=n,this.config={...this.config,...t}}async init(){this.client=await i.AuthClient.create(),this.isAuth=await this.client.isAuthenticated(),this.identity=this.client.getIdentity(),this.principal=this.identity?.getPrincipal()}async setData(){if(!this.client)throw Error("init must be called before this method");try{this.isAuth=await this.client.isAuthenticated(),this.identity=this.client.getIdentity(),this.principal=this.identity?.getPrincipal()}catch(t){throw t}}connect(){if(!this.client)throw Error("init must be called before this method");return new Promise((t,e)=>{this.client.login({identityProvider:this.config.providerUrl,onSuccess:async()=>{await this.setData(),t()},onError:e})})}async disconnect(){if(!this.client)throw Error("init must be called before this method");try{await this.client.logout(),await this.setData()}catch(t){throw t}}isAuthenticated(){if(!this.client)throw Error("init must be called before this method");return this.isAuth}getIdentity(){if(!this.client)throw Error("init must be called before this method");return this.identity}getPrincipal(){if(!this.client)throw Error("init must be called before this method");return this.principal}}},3051:(t,e,r)=>{"use strict";r.d(e,{b:()=>s,m:()=>n});var i=r(997);let n=(0,r(6689).createContext)({}),s=({children:t,client:e})=>i.jsx(n.Provider,{value:{client:e},children:t})},3359:(t,e,r)=>{"use strict";r.d(e,{Lm:()=>s,aC:()=>o});var i=r(3051),n=r(6689);let s=t=>{let{client:e}=(0,n.useContext)(i.m),r=e.getActor(t);if(!r)throw Error("This actor doesn't exist");return r},a=()=>{let{client:t}=(0,n.useContext)(i.m);return t},c=()=>{let{client:t}=(0,n.useContext)(i.m);return t.getProviders()},o=()=>{let t=a(),e=c()["internet-identity"];return{connect:async function(){try{await e.connect();let r=e.getIdentity();t.setIdentity(r)}catch(t){throw t}},disconnect:function(){return t.setIdentity(),e.disconnect()},isAuthenticated:function(){return e.isAuthenticated()},getIdentity:function(){return e.getIdentity()},getPrincipal:function(){return e.getPrincipal()}}}},9724:()=>{}};